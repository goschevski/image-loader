!function(){var e=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var i in t)r[i]=t[i];return r};window.ImageLoader=function(e,t){if(!this.isSupported)throw new Error("Older browsers are not supported.");var r="undefined"!=typeof t?t:{};if("object"!=typeof r||Array.isArray(r))throw new Error("Options must be passed as object!");this.setElements(e,r),this.bindEvents()},ImageLoader.prototype={defaults:{placeholder:".image-placeholder",width:"auto",height:"auto",imgClass:"img-load",method:"html",callback:null},isSupported:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob},setElements:function(t,r){this.options=e(this.defaults,r),this.$element=document.querySelectorAll(t)[0],this.$placeholder=document.querySelectorAll(this.options.placeholder)[0]},bindEvents:function(){this.$element.addEventListener("change",this.render.bind(this),!1)},render:function(e){var t=e.currentTarget,r=new FileReader,n=this,i=this.options;r.onload=function(){return n["css"===i.method?"setBackground":"setImage"].bind(n)}(t.files[0]),r.readAsDataURL(t.files[0]),"function"==typeof i.callback&&i.callback()},setImage:function(e){var t=this.options,r='<img src="'+e.target.result+'" width="'+t.width+'" height="'+t.height+'" class="'+t.imgClass+'">';if("html"===t.method)return void(this.$placeholder.innerHTML=r);if("append"===t.method)return void(this.$placeholder.innerHTML=this.$placeholder.innerHTML+r);throw new Error("Only html and append methods are allowed!")},setBackground:function(e){this.$placeholder.style.backgroundImage="url("+e.target.result+")"}}}();