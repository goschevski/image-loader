/*! jQuery plugin - v0.1.0 - 2014-04-23
* https://github.com/goschevski/image-loader
* Copyright (c) 2014 Aleksandar Gosevski; Licensed MIT */
!function(a){function b(b,d){if(!this.isSupported)throw"Older browesers are not supported.";this.$element=a(b);var e=this.options=a.extend({},a.fn.imageLoader.defaults,d);this.$placeholder=a(e.show),this.$element.on("change."+c,a.proxy(this._onChange,this))}var c="imageloader";b.prototype={$:function(a){return this.$element.find(a)},_onChange:function(a){this._reader(a.currentTarget)},_reader:function(b){var c=new FileReader,d=this,e=this.options;c.onload=function(){return a.proxy(d[e.cssBackground?"_setBackground":"_setImage"],d)}(b.files[0]),c.readAsDataURL(b.files[0]),a.isFunction(e.callback)&&e.callback()},_setImage:function(a){var b=this.options;return this.$placeholder[b.method]('<img src="'+a.target.result+'" width="'+b.width+'" height="'+b.height+'" class="'+b.imgClass+'" />')},_setBackground:function(a){return this.$placeholder.css({backgroundImage:"url("+a.target.result+")"})},isSupported:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob}()},a.fn.imageLoader=function(d){return this.each(function(){var e=a(this),f=e.data(c),g="object"==typeof d&&d;f||e.data(c,f=new b(this,g)),"string"==typeof d&&"_"!==d.charAt(0)&&f[d]()})},a.fn.imageLoader.Constructor=b,a.fn.imageLoader.defaults={show:".show",width:"auto",height:"auto",imgClass:"img-load",cssBackground:!1,method:"html",callback:null}}(jQuery);