!function(e){function t(e,t){if(!this.isSupported)throw new Error("Older browsers are not supported.");this.setElements(e,t),this.bindEvents()}var n="imageloader";t.prototype={$:function(e){return this.$element.find(e)},isSupported:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob},setElements:function(t,n){this.options=e.extend({},e.fn.imageLoader.defaults,n),this.$element=e(t),this.$placeholder=e(this.options.placeholder)},bindEvents:function(){this.$element.on("change."+n,e.proxy(this.reader,this))},reader:function(t){var n=t.currentTarget,i=new FileReader,o=this,r=this.options;i.onload=function(){return e.proxy(o["css"===r.method?"setBackground":"setImage"],o)}(n.files[0]),i.readAsDataURL(n.files[0]),e.isFunction(r.callback)&&r.callback()},setImage:function(e){var t=this.options;if("html"!==t.method&&"append"!==t.method)throw new Error("Only html and append methods are allowed!");return this.$placeholder[t.method]('<img src="'+e.target.result+'" width="'+t.width+'" height="'+t.height+'" class="'+t.imgClass+'" />')},setBackground:function(e){return this.$placeholder.css({backgroundImage:"url("+e.target.result+")"})}},e.fn.imageLoader=function(i){return this.each(function(){var o=e(this),r=o.data(n),a="object"==typeof i&&i;r||o.data(n,r=new t(this,a)),"string"==typeof i&&"_"!==i.charAt(0)&&r[i]()})},e.fn.imageLoader.Constructor=t,e.fn.imageLoader.defaults={placeholder:".image-placeholder",width:"auto",height:"auto",imgClass:"img-load",method:"html",callback:null}}(jQuery);